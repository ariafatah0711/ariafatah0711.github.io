---
layout: page
title: Information Tentang Website ini
permalink: /info/
---

<div class="w-100">
    <p>
        Website ini dibangun menggunakan <strong>Jekyll</strong>, sebuah static site generator yang memungkinkan pembuatan website dengan mudah dan cepat. Tema yang digunakan adalah <strong>Ephesus Jekyll Theme</strong>, yang memiliki desain sederhana dan minimalis, cocok untuk blog atau portofolio pribadi. Tema ini dikembangkan oleh <strong>Hakan Torun</strong>.
    </p>
    <p>
        Untuk melihat demo dari template awal, kamu bisa mengunjungi <a href="https://pardin.us/ephesus/" target="_blank" class="link_color">demo template Ephesus</a>.
    </p>
    <p>
        Template awal dapat ditemukan di <a href="https://github.com/onepase/Ephesus" target="_blank" class="link_color">GitHub template Ephesus</a>. Sementara itu, untuk versi custom yang saya buat, kamu bisa menemukannya di <a href="https://github.com/ariafatah0711/ariafatah0711.github.io" target="_blank" class="link_color">GitHub saya</a>.
    </p>
</div>

<div class="text-center info-footer">
    <button onclick="toggleResetData();" class="reset-btn">Reset Data</button>
    <button onclick="clearCacheAndReload();" class="reset-btn">Reset Cache</button>
    {% include components/theme-toggle.html %}
</div>

<!-- Custom Confirmation Modal -->
<div id="confirmModal" class="confirm-modal" style="display: none;">
    <div class="confirm-content">
        <h3 id="confirmTitle">Konfirmasi</h3>
        <p id="confirmMessage"></p>
        <div class="confirm-buttons">
            <button id="confirmYes" class="confirm-btn confirm-yes">Ya</button>
            <button id="confirmNo" class="confirm-btn confirm-no">Tidak</button>
        </div>
    </div>
</div>

<script>
let confirmCallback = null;

function showConfirm(title, message, callback) {
    const modal = document.getElementById('confirmModal');
    const titleEl = document.getElementById('confirmTitle');
    const messageEl = document.getElementById('confirmMessage');
    const yesBtn = document.getElementById('confirmYes');
    const noBtn = document.getElementById('confirmNo');

    titleEl.textContent = title;
    messageEl.textContent = message;
    modal.style.display = 'flex';
    confirmCallback = callback;

    const handleYes = () => {
        modal.style.display = 'none';
        if (confirmCallback) confirmCallback(true);
        cleanup();
    };

    const handleNo = () => {
        modal.style.display = 'none';
        if (confirmCallback) confirmCallback(false);
        cleanup();
    };

    const cleanup = () => {
        yesBtn.removeEventListener('click', handleYes);
        noBtn.removeEventListener('click', handleNo);
        document.removeEventListener('keydown', handleKeydown);
    };

    const handleKeydown = (e) => {
        if (e.key === 'Enter') handleYes();
        if (e.key === 'Escape') handleNo();
    };

    yesBtn.addEventListener('click', handleYes);
    noBtn.addEventListener('click', handleNo);
    document.addEventListener('keydown', handleKeydown);
}

function toggleResetData() {
    showConfirm(
        'Reset Data Lokal',
        'Ini akan menghapus semua data lokal (localStorage & sessionStorage). Lanjutkan?',
        (confirmed) => {
            if (confirmed) {
                localStorage.clear();
                sessionStorage.clear();
                showAlert('✓ Data lokal berhasil dihapus!', () => {
                    location.reload();
                });
            }
        }
    );
}

function clearCacheAndReload() {
    showConfirm(
        'Reset Cache & Service Worker',
        'Ini akan menghapus cache browser dan unregister service worker. Lanjutkan?',
        (confirmed) => {
            if (confirmed) {
                if ('caches' in window) {
                    caches.keys().then(function(cacheNames) {
                        return Promise.all(
                            cacheNames.map(function(cacheName) {
                                return caches.delete(cacheName);
                            })
                        );
                    }).then(() => {
                        if ('serviceWorker' in navigator) {
                            navigator.serviceWorker.getRegistrations().then(registrations => {
                                for (let registration of registrations) {
                                    registration.unregister();
                                }
                                showAlert('✓ Cache dan service worker berhasil dihapus!', () => {
                                    location.reload(true);
                                });
                            });
                        } else {
                            showAlert('✓ Cache berhasil dihapus!', () => {
                                location.reload(true);
                            });
                        }
                    });
                } else {
                    showAlert('✗ Browser tidak mendukung cache API', () => {
                        location.reload(true);
                    });
                }
            }
        }
    );
}

function showAlert(message, callback) {
    const modal = document.getElementById('confirmModal');
    const titleEl = document.getElementById('confirmTitle');
    const messageEl = document.getElementById('confirmMessage');
    const buttonsEl = document.querySelector('.confirm-buttons');

    titleEl.textContent = '';
    messageEl.textContent = message;
    buttonsEl.innerHTML = '<button class="confirm-btn confirm-no" id="alertBtn">OK</button>';
    modal.style.display = 'flex';

    const alertBtn = document.getElementById('alertBtn');
    const handleClick = () => {
        modal.style.display = 'none';
        if (callback) callback();
        alertBtn.removeEventListener('click', handleClick);
    };
    alertBtn.addEventListener('click', handleClick);
}

document.addEventListener('DOMContentLoaded', function() {
  if (typeof updateThemeIcon === 'function') {
    updateThemeIcon();
  }
});
</script>
